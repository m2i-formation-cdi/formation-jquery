<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Spaceship</title>
    <style>
        #spaceship {
            width: 150px;
            position: absolute;
        }
    </style>
    <script src="node_modules/jquery/dist/jquery.min.js"></script>
    <script>

        const KEY_LEFT = 37;
        const KEY_UP = 38;
        const KEY_RIGHT = 39;
        const KEY_DOWN = 40;

        function showSpaceship(){
            this.element.css({
                left: this.x+ "px",
                top: this.y+ "px",
                transform: "rotate(" + this.rotation +"deg)"
            });
        }

        function moveSpaceship(speed){
            let rad = this.rotation * (Math.PI/180);
            this.x += (speed * Math.cos(rad));
            this.y += (speed * Math.sin(rad));
        }

        $(document).ready(function(){
            //Définition des propriétés et méthodes du vaisseau
            var spaceship = {
                x: 100,
                y: 300,
                rotation: 45,
                element: $("#spaceship"),
                display: showSpaceship,
                move: moveSpaceship
            };

            $(document).keydown(function(even){
                switch(even.which){
                    case KEY_LEFT:
                        spaceship.rotation -= 5;
                        break;
                    case KEY_RIGHT:
                        spaceship.rotation += 5;
                        break;
                    case KEY_UP:
                        spaceship.move(5);
                }

                spaceship.display();
            });

            //Affichage du vaisseau
            spaceship.display();
        });


    </script>
</head>
<body>

    <img src="img/spaceship.png" id="spaceship">
    
</body>
</html>